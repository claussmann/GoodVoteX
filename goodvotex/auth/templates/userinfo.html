{% extends "base.html" %}
{% block content %}

<h1>{{user.name}}</h1>
<b>Username:</b> {{user.username}}
<br>
<b>Mail:</b> {{user.email}}
<br>
<b>Group:</b> {{ user.group.displayname }}

<hr>
<h4>Settings</h4>
<div class="row">
    <div class="col">
        <b>Theme:</b> You are currently using {% if user.theme == "dark" %}dark{% else %}light{% endif %} theme.
    </div>
    <div class="col">
        <div class="float-end">
            <form action="/toggletheme" method="post">
                <button class="btn btn-info">Use {% if user.theme == "dark" %}Light{% else %}Dark{% endif %} Theme</button>
            </form>
        </div>
    </div>
</div>
<br>
<form action="/changepasswd" method="post" class="d-flex flex-row">
    <input type="password" id="passwd_old" name="passwd" class="form-control" placeholder="Password" required>
    &nbsp;
    <input type="password" id="passwd_new" name="new_passwd" class="form-control" placeholder="New Password" required>
    &nbsp;
    <input type="password" id="passwd_confirm" name="confirm_passwd" class="form-control" placeholder="Confirm New Password" required>
    &nbsp;
    <input type="submit" value="Change Password" class="btn btn-info">
</form>

<hr>
<h4>Your Elections</h4>
{% if user.elections|length > 0 %}
    <ul>
        {% for e in user.elections %}
            <li><a href="/details/{{ e.id }}">{{ e.title }}</a></li>
        {% endfor %}
    </ul>
{% else %}
    <p>You don't have elections yet.</p>
{% endif %}
<a href="/create"><button type="button" class="btn btn-info">New Election</button></a>


{% endblock %}
