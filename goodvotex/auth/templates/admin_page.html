{% extends "base.html" %}
{% block content %}

<h1>Admin Page</h1>

<p>Welcome {{user.name}}!</p>

<hr>

<h4>Registered Users</h4>
<table class="table">
    <tr>
        <th>Username</th>
        <th>Name</th>
        <th>Mail</th>
        <th>Permissions</th>
        <th>Elections</th>
        <th></th>
    </tr>
    {% for u in allusers %}
        <tr>
            <td>{{u.username}}</td>
            <td>{{u.name}}</td>
            <td>{{u.email}}</td>
            <td>{{u.permissions}}</td>
            <td>{{u.elections | length}}</td>
            {% if u.is_admin() %}
                <td class="text-end"><button type="button" class="btn btn-secondary" disabled>Edit User</button></td>
            {% else %}
                <td class="text-end"><a href="/useredit/{{u.username}}"><button type="button" class="btn btn-info">Edit User</button></a></td>
            {% endif %}
        </tr>
    {% endfor %}
</table>

<hr>


{% endblock %}
